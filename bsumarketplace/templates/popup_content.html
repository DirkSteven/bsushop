<div id="popup">
    <h2>{{ product.name }}</h2>
    <img src="{{ url_for('static', filename='img/' + product.name + '.png') }}" class="pic_s" alt="{{ product.name }}">
    
    {% if product.description %}
        <p>Description: {{ product.description }}</p>
    {% endif %}

    {% if product.sizes %}
        <p>Select Size:</p>
        <select id="size" onchange="updateStockAndSize('{{ product.name }}')">
            <!-- Populate size options based on the product's sizes -->
            {% for size, details in product.sizes.items() %}
                <option value="{{ size }}">{{ size }}</option>
            {% endfor %}
        </select>
    {% endif %}

    <p>Price: ₱ {{ product.price }}</p>
    <p>Available Stock: {{ product.stock }}</p>

    <!-- Add more HTML elements for displaying other details -->

    <button id="Add_to_Cart_button_{{ product.name }}" onclick="toggleButton('Add_to_Cart', '{{ product.name }}')">
        <img class="button-image" src="/static/img/Add_to_Cart.png" alt="Add to Cart">
    </button>

    <button onclick="closePopup()">Close</button>
</div>

<img id="popupImage" src="{{ url_for('static', filename='img/' + product.name + '.png') }}" alt="{{ product.name }}">

<div id="productDetails">
    <h3 class="productname">{{ product.name }}</h3>
    <img src="{{ url_for('static', filename='img/' + product.name + '.png') }}" alt="{{ product.name }}">
    
    {% if product.description %}
        <p>Description: {{ product.description }}</p>
    {% endif %}

    {% if product.sizes %}
        <div id="sizeSection">
            <label for="size">Size:</label>
            <select id="size" onchange="updateStockAndSize('{{ product.name }}')">
                <option value="default">Select Size</option>
                {% for size, details in product.sizes.items() %}
                    <option value="{{ size }}">{{ size }}</option>
                {% endfor %}
            </select>
        </div>
    {% endif %}

    <div id="priceSection">
        <p id="productPrice" class="{{ product.sizes ? 'product-with-sizes' : 'product-without-sizes' }}">
            {{ product.sizes ? '' : '₱ ' + product.price.toFixed(2) }}
        </p>
    </div>
    
    <div id="errorMessage" class="error-message"></div>
    
    <div id="stockSection" class="{{ product.sizes ? 'product-with-sizes' : 'product-without-sizes' }}">
        <p id="stockInfo">Available Stock: {{ product.sizes ? '' : product.stock }}</p>
    </div>
    
    <div id="quantitySection" style="{{ product.sizes ? 'display: none;' : 'display: block;' }}" class="{{ product.sizes ? 'product-with-sizes' : 'product-without-sizes' }}">
        <label for="quantity">Quantity:</label>
        <input type="number" value="1" class="quantity" id="quantity" min="1" max="{{ product.sizes ? '' : product.stock }}">
    </div>
    
    <div id="buttonsSection" class="{{ product.sizes ? 'product-with-sizes' : 'product-without-sizes' }}">
        <button id="BUY_button_{{ product.name }}" class="buy-button product-button" onclick="toggleButton('BUY', '{{ product.name }}')">
            <img src="/static/img/BUY.png" alt="BUY Button" class="button-image">
        </button>
        <button id="Add_to_Cart_button_{{ product.name }}" class="add-to-cart-button product-button" onclick="toggleButton('Add_to_Cart', '{{ product.name }}')">
            <img src="/static/img/Add_to_Cart.png" alt="Add to Cart Button" class="button-image">
        </button>
    </div>
</div>
    